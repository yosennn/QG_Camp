# QG训练营前端组第二周周记

## 生活随记

突然想吃coffee了，点了个三饭的COTTI，结果过去取咖啡的时候被店员批判了。人家嫌我买贵了，然后给我展示群里的优惠券，便宜了3块（总共才9.9）（流泪）。虽然买亏了很难受，但是还好喝，推荐给师兄——名字叫“潘帕斯蓝生酪茉莉拿铁”（好长的名字）

## 一周总结

### 大组作业开发历程

#### stack 栈链开发

在了解了“栈”这一概念后，我上网搜索了相关知识，用单链表来构成栈，并参考了师兄 ppt 里定义 LinkStack 的代码（如下）

```c
typedef struct LinkkStack
{
    stackNode *head;//指向栈顶
    int num;//节点数量
} LinkStack;
```



同时考虑了一些特殊情况，如不合理输入（用`switch`里面的`default`解决）、栈为空时各个函数的处理

#### calculator 计算器开发

打算先给出一个判断计算式是否正常的规则，然后用代码实现，做一个输入判断

进行分析，总结规律

1. 表达式能包含的符号有`+ - * / ( ) 数字`
2. 把表达式的组成分为数字和运算符
3. 一对括号视为一个数字
4. 运算符左右应该有数字（二元）
5. 特殊运算符负号`-`可以只在右侧有数字



首先考虑没有括号的情况

+ 没有负号时，数字、运算符间隔，且开头结尾均为数字
+ 有负号时，它能且仅能出现在第一位，后面部分同上
+ 后续添加：数字连在一起也合法

我写了一个遍历字符数组的函数来判断是否有“非法字符”，并跳过排在第一位的符号，然后利用数字后面必是字符的特点写了一个递归判断，到最后一个有效字符时再做一个判断

debug：数字连在一起其实也合法...

解决：碰到相邻的数字循环后移



然后是有括号的情况

+ 把一对完整的括号内的表达式视为没有括号的情况，且合法表达式总能这样拆分

拆分到最后就回到了“没有括号的情况”，调用一下相关函数即可

然后 de了一堆bug写完了输入检测



最后就到后缀表达式的计算了。为了支持多位数，我设置了这样的结构体

```c
typedef struct linkNode
{
    int k;//k用来指示式子中的存储数据类型，1为数字，2为符号，0代表头部
    char ch;
    int num;
    struct linkNode *next;
} linkNode;
```

以 k 来做一个指示



## 存在问题

## 下周规划

